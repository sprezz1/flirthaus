---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import FormattedDate from '../components/FormattedDate.astro';
import Header from '../components/Header.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;700;900&display=swap" rel="stylesheet">
		<style>
			.prose {
				font-family: 'Inter', sans-serif;
				font-size: 1.125rem;
				line-height: 1.8;
				color: var(--color-text-dark);
			}

			.prose h2 {
				font-family: 'Playfair Display', serif;
				font-size: 2rem;
				font-weight: 700;
				color: var(--color-primary);
				margin-top: 3rem;
				margin-bottom: 1rem;
				line-height: 1.3;
			}

			.prose h3 {
				font-family: 'Playfair Display', serif;
				font-size: 1.5rem;
				font-weight: 700;
				color: var(--color-primary);
				margin-top: 2.5rem;
				margin-bottom: 0.75rem;
				line-height: 1.4;
			}

			.prose h4 {
				font-family: 'Inter', sans-serif;
				font-size: 1.25rem;
				font-weight: 600;
				color: var(--color-primary);
				margin-top: 2rem;
				margin-bottom: 0.5rem;
			}

			.prose p {
				margin-bottom: 1.5rem;
			}

			.prose a {
				color: var(--color-secondary);
				text-decoration: none;
				font-weight: 600;
				border-bottom: 2px solid transparent;
				transition: all 0.2s ease;
			}

			.prose a:hover {
				color: #5A1529;
				border-bottom-color: #5A1529;
			}

			.prose strong {
				font-weight: 600;
				color: var(--color-primary);
			}

			.prose em {
				font-style: italic;
				color: var(--color-text-dark);
			}

			.prose ul,
			.prose ol {
				margin-bottom: 1.5rem;
				padding-left: 1.75rem;
			}

			.prose li {
				margin-bottom: 0.75rem;
			}

			.prose blockquote {
				border-left: 4px solid var(--color-secondary);
				padding-left: 1.5rem;
				margin: 2rem 0;
				font-style: italic;
				color: var(--color-text-dark);
				opacity: 0.9;
			}

			.prose code {
				background: var(--color-accent-pearl);
				padding: 0.25rem 0.5rem;
				border-radius: 4px;
				font-size: 0.9em;
				font-family: 'Courier New', monospace;
			}

			.prose pre {
				background: var(--color-primary);
				color: var(--color-text-light);
				padding: 1.5rem;
				border-radius: 8px;
				overflow-x: auto;
				margin: 2rem 0;
			}

			.prose pre code {
				background: transparent;
				padding: 0;
				color: var(--color-text-light);
			}

			.prose img {
				border-radius: 12px;
				margin: 2rem 0;
			}

			.prose hr {
				border: none;
				height: 1px;
				background: var(--color-accent-pearl);
				margin: 3rem 0;
			}
		</style>
	</head>

	<body class="bg-background" style="font-family: 'Inter', sans-serif;">
		<Header />

		<!-- Hero Section -->
		<article>
			{heroImage && (
				<section style="background: var(--color-primary); padding: 0;">
					<div class="container max-w-5xl mx-auto">
						<Image
							width={1200}
							height={600}
							src={heroImage}
							alt={title}
							style="width: 100%; height: auto; display: block; max-height: 500px; object-fit: cover;"
						/>
					</div>
				</section>
			)}

			<!-- Article Header -->
			<section class="bg-pearl section-sm">
				<div class="container max-w-3xl mx-auto px-6 text-center">
					<a href="/blog" class="link-copper" style="display: inline-block; margin-bottom: 1.5rem;">
						‚Üê Back to Blog
					</a>

					<div style="margin-bottom: 1rem; font-size: 0.95rem; color: var(--color-text-dark); opacity: 0.7;">
						<FormattedDate date={pubDate} />
						{updatedDate && (
							<span style="margin-left: 1rem; font-style: italic;">
								Updated: <FormattedDate date={updatedDate} />
							</span>
						)}
					</div>

					<h1 class="heading-lg" style="font-family: 'Playfair Display', serif; color: var(--color-primary); margin-bottom: 1rem;">
						{title}
					</h1>

					{description && (
						<p class="text-xl" style="color: var(--color-text-dark); opacity: 0.8;">
							{description}
						</p>
					)}
				</div>
			</section>

			<!-- Article Content -->
			<section class="section bg-light">
				<div class="container max-w-3xl mx-auto px-6">
					<div class="prose">
						<slot />
					</div>
				</div>
			</section>

			<!-- CTA Section -->
			<section class="bg-burgundy section-sm">
				<div class="container max-w-4xl mx-auto px-6 text-center">
					<h2 class="heading-md mb-4" style="color: white; font-family: 'Playfair Display', serif;">
						Ready to Scale Your OnlyFans?
					</h2>
					<p class="text-lg mb-8" style="color: #F8F4F0; opacity: 0.9;">
						Let FlirtHaus handle your chats while you focus on creating content
					</p>
					<div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
						<a href="/#contact" class="btn btn-primary btn-lg">
							Get Started
						</a>
						<a href="/blog" class="btn btn-secondary btn-lg">
							Read More Articles
						</a>
					</div>
				</div>
			</section>
		</article>

		<Footer />
	</body>
</html>
